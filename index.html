<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

    <!-- jQueryUI library -->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- Latest compiled Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- D3 library -->
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>

    <!-- Bootstrap-slider -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.1/bootstrap-slider.js"></script>

    <!-- Spin.js - Loading Spinner Effect -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"></script>

    <!-- Plugin for creation of custom context menus -->
    <script src = "javascripts/jquery.contextMenu.js" type = "text/javascript"></script>

    <!-- Plugin for crossfilter charts -->
    <script src = "javascripts/crossfilter.v1.min.js" type = "text/javascript"></script>

    <!-- Structure tree -->
    <script src="javascripts/tree.js"></script>

    <!-- Scatter Plot visualization -->
    <script src="javascripts/scatter-plot.js"></script>

    <!-- Bar Chart visualization -->
    <script src="javascripts/bar-chart.js"></script>

    <!-- Force Layout visualization -->
    <script src="javascripts/force-layout.js"></script>

    <!-- Timeline visualization -->
    <script src="javascripts/time-line.js"></script>

    <!-- Windows System functions -->
    <script src="javascripts/windows-system.js"></script>

    <!-- K-Means clusterization library -->
    <script src="javascripts/kmeans.js"></script>

    <!-- Convex Hull library -->
    <script src="javascripts/convex-hull.js"></script>

    <!-- Congress Definitions -->
    <script src="javascripts/congress-definitions.js"></script>

    <!-- D3-tip library -->
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>

    <!-- Bootstrap-slider CSS -->
    <link rel ="stylesheet" href= "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.1/css/bootstrap-slider.css">

    <!-- Windows System CSS -->
    <link rel="stylesheet" href="stylesheets/windows-system.css">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="stylesheets/font-awesome.css">

    <!-- Scatter Plot CSS -->
    <link rel="stylesheet" href="stylesheets/scatter-plot.css">

    <!-- Bar Chart CSS -->
    <link rel="stylesheet" href="stylesheets/bar-chart.css">

    <!-- Time Line Chart CSS -->
    <link rel="stylesheet" href="stylesheets/time-line.css">

    <!-- Spinner gif library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"></script>

    <title> Windows System Prototype  </title>
</head>

<body id = "windows-system">
    <div class="container">
        <svg id ="workspace" width = "100%" height = "100%" class="svg-content-responsive"></svg>
        <h2>Windows System Prototype</h2>
        <ul id="contextMenuScatterPlot" class="dropdown-menu" role="menu" style="display:none" >
            <li><a tabindex="-1" id="bar-chart">Create a bar chart</a></li>
            <li><a tabindex="-1" id="force-layout">Create a force layout</a></li>
            <li class="divider"></li>
            <li><a tabindex="-1" id="get-parent">Get parent</a></li>
        </ul>
        <ul id="contextMenuTimeline" class="dropdown-menu" role="menu" style="display:none" >
            <li><a tabindex="-1" id="scatter-plot">Create a scatter plot</a></li>
            <li><a tabindex="-1" id="chamber-infographic">Create a chamber infographic</a></li>
        </ul>
    </div>

    <div class ="toolTip" style="display: none;"></div>
    <div class ="toolTip toolTipCluster" style="display: none;"></div>

    <div id = "btn-init" class="dropdown" style="display: none;">
        <a id="dLabel" role="button" data-toggle="dropdown" class="btn btn-primary">
            Dropdown <span class="caret"></span>
        </a>
        <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
            <li class="dropdown-submenu">
                <a tabindex="-1" id= "years"> Years </a>
                <ul class="dropdown-menu">
                    <li><a class="option" tabindex="-1" data-value="1991"> 1991 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1992"> 1992 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1993"> 1993 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1994"> 1994 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1995"> 1995 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1996"> 1996 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1997"> 1997 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1998"> 1998 </a></li>
                    <li><a class="option" tabindex="-1" data-value="1999"> 1999 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2000"> 2000 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2001"> 2001 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2002"> 2002 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2003"> 2003 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2004"> 2004 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2005"> 2005 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2006"> 2006 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2007"> 2007 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2008"> 2008 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2009"> 2009 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2010"> 2010 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2011"> 2011 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2012"> 2012 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2013"> 2013 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2014"> 2014 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2015"> 2015 </a></li>
                    <li><a class="option" tabindex="-1" data-value="2016"> 2016 </a></li>
                </ul>
            </li>
            <li class="dropdown-submenu">
                <a tabindex="-1" id= "legislatures"> Legislatures </a>
                <ul class="dropdown-menu">
                    <li><a class="option" tabindex="-1" data-value="0"> 49ª  Legislature (1991-1994) </a></li>
                    <li><a class="option" tabindex="-1" data-value="1"> 50ª  Legislature (1995-1998) </a></li>
                    <li><a class="option" tabindex="-1" data-value="2"> 51ª  Legislature (1999-2002) </a></li>
                    <li><a class="option" tabindex="-1" data-value="3"> 52ª  Legislature (2003-2009) </a></li>
                    <li><a class="option" tabindex="-1" data-value="4"> 53ª  Legislature (2007-2010) </a></li>
                    <li><a class="option" tabindex="-1" data-value="5"> 54ª  Legislature (2011-2014) </a></li>
                    <li><a class="option" tabindex="-1" data-value="6"> 55ª  Legislature (2015-2016) </a></li>
                </ul>
            </li>
        </ul>
    </div>
</body>
</html>

<script>

    /* Getting the document body */
    var windowSystem = $("#windows-system");

    /* Initialization of System */
    $(document).ready(function(){
        initSystem();
        resizeTimeline();

        /* Check limits whenever a resize event was trigger */
        $(window).on('resize', function(){
            hideToolTipCluster();
            checkLimits();
        });

        /* Binding event to minimize buttons */
        windowSystem.on("click", ".btn-minimize", minimizeWindow);

        /* Binding event to remove buttons */
        windowSystem.on("click", ".btn-remove", function(){
            var id = $(this).parents(".panel").attr("id");
            removeWindow(id, true);
        });

        /* Binding event to scatter plot settings buttons */
        windowSystem.on("click", ".btn-settings-scatterplot", checkChildrenScatterPlot);

        /* Binding event to minimized window */
        windowSystem.on("dblclick", ".fa-window-maximize", maximizeWindow);

        /* Avoid to close settings menu */
        windowSystem.on('click', '.panel-settings', function(event){
                event.stopPropagation();
            });
    });

</script>